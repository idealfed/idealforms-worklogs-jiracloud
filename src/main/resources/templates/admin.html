<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>adminIframe</title>
    <meta charset="UTF-8"/>
    <meta name="token" th:content="${atlassianConnectToken}"/>


    <link type="text/css" href="/dev5/css/craft.css" rel="stylesheet" />
    <link type="text/css" href="/dev5/css/theme-neptune-all_1.css" rel="stylesheet" />
    <link type="text/css" href="/dev5/css/theme-neptune-all_2.css" rel="stylesheet" />
    <link type="text/css" href="/dev5/css/charts-all.css" rel="stylesheet" />
    <link type="text/css" href="/dev5/css/charts-all-rtl.css" rel="stylesheet" />
    <link type="text/css" href="/dev5/css/material-ui.css" rel="stylesheet" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

    <script src="/dev5/js/react.js" type="text/javascript"></script>
    <script src="/dev5/js/react-dom.js" type="text/javascript"></script>
    <script src="/dev5/js/material-ui.js" type="text/javascript"></script>
    <script src="/dev5/js/ext-all.js" type="text/javascript"></script>
    <script src="/dev5/js/moment.js" type="text/javascript"></script>
    <script src="/dev5/js/FileSaver.min.js" type="text/javascript"></script>
    <script src="/dev5/js/xumenter.js" type="text/javascript"></script>
    <script src="/dev5/js/jszip_v2.js" type="text/javascript"></script>
    <script src="/dev5/js/diff.js" type="text/javascript"></script>


    <script src="/dev5/js/craft.js" type="text/javascript"></script>
    <script src="/dev5/js/ijf_utils.js" type="text/javascript"></script>
    <script src="/dev5/js/ijf_model.js" type="text/javascript"></script>
    <script src="/dev5/js/ijf_main.js" type="text/javascript"></script>
    <script src="/dev5/js/ijf_framework.js" type="text/javascript"></script>
    <script src="/dev5/js/ijf_lists.js" type="text/javascript"></script>
    <script src="/dev5/js/ijf_ext_utils.js" type="text/javascript"></script>
    <script src="/dev5/js/ijf_react_utils.js" type="text/javascript"></script>
    <script src="/dev5/js/ijf_dataservices.js" type="text/javascript"></script>

    [(${ijfHtmlReferences})]

    <script>

        g_username = "[(${ijfUsername})]";
        g_version = "[(${ijfVersion})]";
        g_iwfFormSetId = "firstFormSet";
        g_formId = "[(${ijfFormId})]";
        g_itemId = "[(${ijfItemId})]";
        g_debug =  "[(${ijfDebug})]";
        g_root = "[(${ijfRoot})]";
        g_imagesRoot = g_root + "/download/resources/com.idealfed.poc.idealforms:jiraforms-resources5/images/";
        g_args =  '';
        g_craft = "[(${ijfCraft})]";
        g_dashboard = '';
        g_configDir = 'IJF_Configuration';

    </script>


    <script>
        $(document).ready(function() {
            $("#ijfGetHostId").click(function () {
                $.ajax({
                    url: "host",
                    beforeSend: function (request) {
                        var token = $('meta[name="token"]').attr("content");
                        request.setRequestHeader("Authorization", "JWT " + token);
                    }
                }).done(function (data) {
                    //alert(JSON.stringify(data, null, '\t'));
                    document.getElementById("ijfContentId").innerHTML = "<pre>" + JSON.stringify(data, null, 4) + "</pre>";

                });
            });
        });

    </script>

</head>
<body style="background-color: darkorange">
    <div id = 'ijfOuterContainer'>
        <div id='ijfHead' class='cwf-header'></div>
        <div id='ijfContent'  class='cwf-content'></div>
        <div id='ijfFoot' class='cwf-footer'></div>
    </div>
    <div id='ijfManage'></div>
    <div id='ijfJsonUpload'></div>
    <div id='ijfCraft1'></div>
    <div id='ijfAdmin1'></div>
    <div id='ijfDebug'></div>

    <script type="text/javascript">
        var ijf = ijf || {};
        ijf.snippets = (function(){
            var enabled=true;
            [(${ijfScript})]
            return{
                enabled:enabled
                [(${ijfSnippetPub})]
            };
        })();
    </script>
    <style>
        [(${ijfStyle})]
    </style>
<div class="ac-content">
    <button id="ijfGetHostId">Get Host</button>
    &nbsp;&nbsp;&nbsp;<a th:href="@{/dev5/iframe(jwt=${atlassianConnectToken})}">Tan in same frame</a>
    &nbsp;&nbsp;&nbsp;<a target="_blank" th:href="@{/iframe/admin(jwt=${atlassianConnectToken})}">Tan in new frame</a>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/><lr/><br/>Here:  [(${test})]
    <br/><lr/><br/>Here:  [[${test}]]
    <br/><lr/><br/>Here: <span th:text="${test}">gggggggggggggggg</span>
    <div id="ijfContentId"></div>
</div>
</body>
</html>
