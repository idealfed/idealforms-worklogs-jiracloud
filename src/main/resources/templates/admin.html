<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>adminIframe</title>
    <meta charset="UTF-8"/>
    <meta name="token" th:content="${atlassianConnectToken}"/>

    <link type="text/css" href="tbd" th:href="@{${ijfRoot} + '/css/craft.css'}" rel="stylesheet" />
    <link type="text/css" href="tbd" th:href="@{${ijfRoot} + '/css/theme-neptune-all_1.css'}" rel="stylesheet" />
    <link type="text/css" href="tbd" th:href="@{${ijfRoot} + '/css/theme-neptune-all_2.css'}" rel="stylesheet" />
    <link type="text/css" href="tbd" th:href="@{${ijfRoot} + '/css/charts-all.css'}" rel="stylesheet" />
    <link type="text/css" href="tbd" th:href="@{${ijfRoot} + '/css/charts-all-rtl.css'}" rel="stylesheet" />
    <link type="text/css" href="tbd" th:href="@{${ijfRoot} + '/css/material-ui.css'}" rel="stylesheet" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

    <script src="tbd" th:src="@{${ijfRoot} + '/js/react.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/react-dom.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/material-ui.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ext-all.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/moment.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/FileSaver.min.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/xumenter.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/jszip_v2.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/diff.js'}" type="text/javascript"></script>


    <script src="tbd" th:src="@{${ijfRoot} + '/js/craft.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ijf_utils.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ijf_model.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ijf_main.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ijf_framework.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ijf_lists.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ijf_ext_utils.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ijf_react_utils.js'}" type="text/javascript"></script>
    <script src="tbd" th:src="@{${ijfRoot} + '/js/ijf_dataservices.js'}" type="text/javascript"></script>

    [(${ijfHtmlReferences})]

    <script>

        g_username = "[(${ijfUsername})]";
        g_version = "[(${ijfVersion})]";
        g_iwfFormSetId = "firstFormSet";
        g_formId = "[(${ijfFormId})]";
        g_itemId = "[(${ijfItemId})]";
        g_debug =  "[(${ijfDebug})]";
        g_root = "[(${ijfRoot})]";
        g_imagesRoot = "[(${ijfRoot})]/images/";
        g_args =  '';
        g_craft = "[(${ijfCraft})]";
        g_dashboard = '';
        g_configDir = 'IJF_Configuration';
        g_jwtToken = '[(${atlassianConnectToken})]';

    </script>


    <script>
        $(document).ready(function() {
            $("#ijfGetHostId").click(function () {
                $.ajax({
                    url: "host",
                    beforeSend: function (request) {
                        var token = $('meta[name="token"]').attr("content");
                        request.setRequestHeader("Authorization", "JWT " + token);
                    }
                }).done(function (data) {
                    //alert(JSON.stringify(data, null, '\t'));
                    document.getElementById("ijfContentId").innerHTML = "<pre>" + JSON.stringify(data, null, 4) + "</pre>";

                });
            });
        });

        var getJwtToken = function ()
        {
            return  $('meta[name="token"]').attr("content");
        }
        var getIjfRoot = function ()
        {
            return  "[(${ijfRoot})]";
        }

    </script>

</head>

<body>
<div style="width:998px;margin-top: 25px;margin-left:50px;border-top: 2px solid darkblue; border-radius: 5px;border-left: 2px solid darkblue; border-radius: 5px;border-right: 2px solid darkblue; border-radius: 5px;" >
    <table width=100% style=" background-color: #157fcc; border-bottom: 3px solid darkblue">
        <tr style="background-color: #157fcc;">
            <td style="width:15%"></td>
            <td style=" text-align: center; font-size: 16px; font-weight:bold; color:#fff; font-family:helvetica, arial, verdana, sans-serif; padding-left: -150px;">
                Ideal Forms for JIRA
                <a style="font-size: 10pt;color:white;" href="https://www.idealfed.com/index.html" target="_blank"> click here for more</a><br/>
            </td>
            <td align="right" style="width:15%"><img style="margin-right:10px" width="42px" height="auto" src="https://www.idealfed.com/images/idf.png"></td>
        </tr>
    </table>
    <table width=100% style="background-color: #f1f1f1;border-bottom: 3px solid darkblue">
        <tr>
            <td style="cursor: pointer;" onClick="javacript:window.location.href=getIjfRoot() + '/admin?mode=forms&jwt='+getJwtToken()" onMouseOver="this.style.backgroundColor='#ffffff'" onMouseOut="this.style.backgroundColor='#f1f1f1'" >
                <table>
                    <td  style="text-align: center;"> <img width="42" height="42" style="opacity:0.25" src="https://fonts.gstatic.com/s/i/materialicons/build/v6/24px.svg"> </td>
                    <td> <b style="text-align: left; font-size: 1rem; line-height: 2; color:#000030; font-family: 'Merriweather',serif; Arial; font-weight: 700;"> Forms Admin</b></td>
                </table>
            </td>
            <td style="cursor: pointer;" onClick="javacript:window.location.href=getIjfRoot() + '/admin?mode=reports&jwt='+ getJwtToken()" onMouseOver="this.style.backgroundColor='#ffffff'" onMouseOut="this.style.backgroundColor='#f1f1f1'" >
                <table>
                    <td  style="text-align: center;"> <img width="42" height="42" style="opacity:0.25" src="https://fonts.gstatic.com/s/i/materialicons/description/v6/24px.svg"> </td>
                    <td> <b style="text-align: left; font-size: 1rem; line-height: 2; color:#000030; font-family: 'Merriweather',serif; Arial; font-weight: 700;"> Reports Admin</b></td>
                </table>
            </td>
            <td style="cursor: pointer;" onClick="javacript:window.location.href=getIjfRoot() + '/admin?mode=admin&jwt='+ getJwtToken()" onMouseOver="this.style.backgroundColor='#ffffff'" onMouseOut="this.style.backgroundColor='#f1f1f1'" >
                <table>
                    <td  style="text-align: center;"> <img width="42" height="42" style="opacity:0.25" src="https://fonts.gstatic.com/s/i/materialicons/settings/v6/24px.svg"> </td>
                    <td> <b style="text-align: left; font-size: 1rem; line-height: 2; color:#000030; font-family: 'Merriweather',serif; Arial; font-weight: 700;"> Utilities</b></td>
                </table>
            </td>
            <td style="cursor: pointer;" onClick="javacript:window.location.href=getIjfRoot() + '/admin?mode=library&jwt='+ getJwtToken()" onMouseOver="this.style.backgroundColor='#ffffff'" onMouseOut="this.style.backgroundColor='#f1f1f1'" >
                <table>
                    <td  style="text-align: center;"> <img width="42" height="42" style="opacity:0.25" src="https://fonts.gstatic.com/s/i/materialicons/table_view/v3/24px.svg"> </td>
                    <td> <b style="text-align: left; font-size: 1rem; line-height: 2; color:#000030; font-family: 'Merriweather',serif; Arial; font-weight: 700;"> Forms Library</b></td>
                </table>
            </td>
        </tr>
    </table>
</div>
    <div id='ijfOuterContainer' class='cwf-outer-div'>
        <div id='ijfHead' class='cwf-header'></div>
        <div id='ijfContent'  class='cwf-content'></div>
        <div id='ijfFoot' class='cwf-footer'></div>
    </div>
    <div id='ijfManage'></div>
    <div id='ijfJsonUpload'></div>
    <div id='ijfCraft1'></div>
    <div id='ijfAdmin1'></div>
    <div id='ijfDebug'></div>

    <script type="text/javascript">
        var ijf = ijf || {};
        ijf.snippets = (function(){
            var enabled=true;
            [(${ijfScript})]
            return{
                enabled:enabled
                [(${ijfSnippetPub})]
            };
        })();
    </script>
    <style>
        [(${ijfStyle})]
    </style>

</body>
</html>
